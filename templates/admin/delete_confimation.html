{% extends "base.html" %}
{% load i18n admin_urls static %}

{% block extrastyle %}
<style>
    #content-main { 
        max-width: 600px; 
        margin: 50px auto; 
        padding: 0 20px; 
    }

    .module { 
        background-color: #1e1e1e; 
        padding: 30px; 
        border-radius: 8px; 
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        border: 2px solid #dc3545;
    }
    .module h1 { 
        color: #dc3545;
        border-bottom: 1px solid #444; 
        padding-bottom: 10px; 
        margin-bottom: 20px; 
        font-size: 1.8em; 
        display: flex;
        align-items: center;
    }

    .module h1 i { 
        margin-right: 10px; 
    }

    .breadcrumbs { 
        color: #aaa; 
        margin-bottom: 20px; 
        font-size: 0.9em; 
    }

    .breadcrumbs a { 
        color: #6c78e4; 
        text-decoration: none; 
    }

    .errornote { 
        background-color: #551c1c; 
        color: #ffcccc; 
        border: 1px solid #dc3545; 
        padding: 15px; 
        border-radius: 4px; 
        margin-bottom: 20px;
        font-weight: 600;
    }

    .deleted, ul { 
        list-style: none; 
        padding: 10px 20px; 
        background-color: #2a2a2a; 
        border: 1px solid #444; 
        border-radius: 4px; 
        margin-top: 15px;
    }
    .deleted li, ul li { color: #ccc; margin-bottom: 5px; }

    .module p { color: #ddd; line-height: 1.5; }

    form div { text-align: right; margin-top: 25px; }
    
    input[type="submit"], .button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 600;
        transition: background-color 0.2s;
        margin-left: 10px;
        text-decoration: none;
        display: inline-block;
        line-height: normal;
    }

    input[type="submit"] {
        background-color: #dc3545; 
        color: white; 
    }
    input[type="submit"]:hover {
        background-color: #c82333; 
    }

    .cancel-link {
        background-color: #6c78e4;
        color: white;
    }
    .cancel-link:hover {
        background-color: #5560c9;
    }
</style>
{% endblock extrastyle %}

{% block content %}
<div id="content-main">
    <div class="module" id="delete-user-confirmation">
        
        <h1><i class="fas fa-exclamation-triangle"></i>{% blocktranslate with object_name=opts.verbose_name %}Confirmar Eliminación de {{ object_name }}{% endblocktranslate %}</h1>
        
        {% url opts|admin_urlname:'changelist' as changelist_url %}
        <p class="breadcrumbs">
            <a href="{% url 'admin:index' %}">{% translate 'Home' %}</a> &rsaquo;
            <a href="{{ changelist_url }}">{% blocktranslate with verbose_name_plural=opts.verbose_name_plural %}Select {{ verbose_name_plural }}{% endblocktranslate %}</a> &rsaquo;
            {% blocktranslate with obj=object %}Delete {{ obj }}{% endblocktranslate %}
        </p>

        {% if perms_lacking %}
            <p class="errornote">
            {% if perms_needed %}
                {% blocktranslate %}Deleting the selected object requires permissions which you don't have.{% endblocktranslate %}
            {% else %}
                {% blocktranslate %}You don't have permissions to delete this object.{% endblocktranslate %}
            {% endif %}
            </p>
        {% elif protected %}
            <p class="errornote">
            {% blocktranslate %}Deleting the selected object would require deleting the following related objects, but one or more of them are protected and can't be deleted.{% endblocktranslate %}
            </p>
            <ul>
            {% for obj in protected %}
                <li><i class="fas fa-lock" style="margin-right: 5px;"></i>{{ obj }}</li>
            {% endfor %}
            </ul>
        {% else %}
            <p>{% blocktranslate %}¿Está seguro que desea eliminar el objeto **"{{ object }}"**? Todos los siguientes elementos relacionados serán eliminados permanentemente:{% endblocktranslate %}</p>
            
            {% if deleted_objects %}
                <ul class="deleted">
                {% for deleted_object in deleted_objects %}
                    <li><i class="fas fa-times-circle" style="color: #dc3545; margin-right: 5px;"></i>{{ deleted_object }}</li>
                {% endfor %}
                </ul>
            {% endif %}
            
            <form action="" method="post">{% csrf_token %}
                <div>
                    <input type="hidden" name="post" value="yes">
                    <input type="submit" value="{% translate 'Yes, I’m sure' %}">
                    {% url opts|admin_urlname:'change' object.pk|admin_urlquote as cancel_url %}
                    <a href="{{ cancel_url }}" class="button cancel-link">{% translate 'No, take me back' %}</a>
                </div>
            </form>
        {% endif %}
    </div>
</div>
{% endblock %}